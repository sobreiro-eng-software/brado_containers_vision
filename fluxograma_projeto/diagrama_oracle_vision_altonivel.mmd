graph LR
    %% Estilos
    classDef storage fill:#fff3e0,stroke:#ef6c00,stroke-width:2px;
    classDef label fill:#fff9c4,stroke:#fbc02d,stroke-width:2px;
    classDef brain fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px,color:black;
    classDef process fill:#e1f5fe,stroke:#0277bd,stroke-width:2px;
    classDef decision fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px;

    %% Entradas
    NewPhoto["ğŸ“¸ Nova Foto\n(Do Gate/App)"]:::process

    %% O ECOSSISTEMA DA IA
    subgraph "Ecossistema de InteligÃªncia (Oracle Cloud)"
        
        %% A Origem (Treinamento)
        subgraph "1. Base de Conhecimento (Treino)"
            Bucket["ğŸ—„ï¸ Bucket\n(Imagens HistÃ³ricas)"]:::storage
            DLS["ğŸ·ï¸ Data Labeling\n(MarcaÃ§Ã£o Manual)"]:::label
        end

        %% O Motor (ExecuÃ§Ã£o)
        subgraph "2. Motor de DecisÃ£o (Runtime)"
            Model(("ğŸ§  Modelo V1\n(CÃ©rebro Ativo)")):::brain
            Analysis["ğŸ” Varredura\n(DetecÃ§Ã£o)"]:::process
            Filter{"ConfianÃ§a\n > 50%?"}:::label
        end

        %% SaÃ­da
        Result["ğŸ“ Resultado\n(JSON: Amassado/Furo)"]:::decision

    end

    %% ConexÃµes do Treino (Como a IA aprendeu)
    Bucket -->|Fornece Fotos| DLS
    DLS -->|Ensina PadrÃµes| Model

    %% ConexÃµes da ExecuÃ§Ã£o (O que acontece agora)
    NewPhoto -->|Entra| Analysis
    Model -.->|Aplica InteligÃªncia| Analysis
    Analysis --> Filter
    Filter -->|Sim| Result
    Filter -->|NÃ£o| Clean["âœ… Ãntegro"]:::decision